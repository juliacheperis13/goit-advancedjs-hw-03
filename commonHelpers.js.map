{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/js/helpers.js","../src/js/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst baseUrl = 'https://api.thecatapi.com/v1';\nconst breedsUrl = `${baseUrl}/breeds`;\nconst searchDataUrl = `${baseUrl}/images/search`;\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_VYbKMLMNU1YPqRUi9zgtBMrP5nI3b3RK1KjJIZalHGbhDzMvyGrx4A9vCcMdLz52';\n\nconst fetchBreeds = async () => {\n  try {\n    const response = await axios.get(breedsUrl);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching breeds: ', error);\n  }\n};\n\nconst fetchCatByBreed = async breedId => {\n  try {\n    const response = await axios.get(searchDataUrl, {\n      params: { breed_ids: breedId },\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching breed: ', error);\n  }\n};\n\nexport { fetchBreeds, fetchCatByBreed };\n","const classes = {\n  hidden: 'hidden',\n};\n\nconst toggleVisibility = (element, isHidden) => {\n  if (isHidden) {\n    element.classList.add(classes.hidden);\n  } else {\n    element.classList.remove(classes.hidden);\n  }\n};\n\nexport { toggleVisibility };\n","import SlimSelect from 'slim-select';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchCatByBreed } from './cat-api.js';\nimport { toggleVisibility } from './helpers.js';\n\nconst loader = document.querySelector('.loading-container');\nconst breedSelect = document.querySelector('.select');\nconst infoContainer = document.querySelector('.info-container');\n\nconst buildSelectList = breeds => {\n  const defaultOption = '<option data-placeholder=\"true\"></option>';\n  const breedsOptions = breeds\n    .map(breed => `<option value=\"${breed.id}\">${breed.name}</option>`)\n    .join('');\n\n  breedSelect.insertAdjacentHTML(\n    'afterbegin',\n    `${defaultOption}${breedsOptions}`\n  );\n\n  new SlimSelect({\n    select: '#selectElement',\n  });\n};\n\nconst showMessage = (text, isError) => {\n  iziToast.error({\n    title: isError ? 'Error' : 'Success',\n    message: text,\n    position: 'topRight',\n  });\n};\n\nconst onFetchBreeds = async () => {\n  toggleVisibility(loader, false);\n  const breeds = await fetchBreeds();\n  toggleVisibility(loader, true);\n  if (breeds && breeds.length) {\n    toggleVisibility(breedSelect, false);\n    buildSelectList(breeds);\n  } else {\n    showMessage(\n      'Sorry, there is an error loading breed info. Try reloading the page.',\n      true\n    );\n  }\n};\n\nonFetchBreeds();\n\nbreedSelect.addEventListener('change', async event => {\n  toggleVisibility(loader, false);\n  infoContainer.innerHTML = '';\n  const breedId = event.target.value;\n  const cat = await fetchCatByBreed(breedId);\n  toggleVisibility(loader, true);\n  if (cat && cat.length) {\n    const { name, description, temperament } = cat[0].breeds[0];\n    const url = cat[0].url;\n\n    infoContainer.insertAdjacentHTML(\n      'afterbegin',\n      `\n        <img class=\"img\" src=\"${url}\" alt=\"${name}\" width=\"400\" height=\"320\">\n        <div class=\"text-container\">\n        <h2>${name}</h2>\n        <p>${description}</p>\n        <p>\n        <span class=\"bold\">Temperament:</span>\n         ${temperament}</p>\n        </div>\n      `\n    );\n    toggleVisibility(infoContainer, false);\n  } else {\n    showMessage(\n      'Sorry, there is an error loading cat info. Try reloading the page.',\n      true\n    );\n  }\n});\n"],"names":["baseUrl","breedsUrl","searchDataUrl","axios","fetchBreeds","error","fetchCatByBreed","breedId","classes","toggleVisibility","element","isHidden","loader","breedSelect","infoContainer","buildSelectList","breeds","defaultOption","breedsOptions","breed","SlimSelect","showMessage","text","isError","iziToast","onFetchBreeds","event","cat","name","description","temperament","url"],"mappings":"owBAEA,MAAMA,EAAU,+BACVC,EAAY,GAAGD,CAAO,UACtBE,EAAgB,GAAGF,CAAO,iBAEhCG,EAAM,SAAS,QAAQ,OAAO,WAAW,EACvC,wEAEF,MAAMC,EAAc,SAAY,CAC9B,GAAI,CAEF,OADiB,MAAMD,EAAM,IAAIF,CAAS,GAC1B,IACjB,OAAQI,EAAO,CACd,QAAQ,MAAM,0BAA2BA,CAAK,CAC/C,CACH,EAEMC,EAAkB,MAAMC,GAAW,CACvC,GAAI,CAIF,OAHiB,MAAMJ,EAAM,IAAID,EAAe,CAC9C,OAAQ,CAAE,UAAWK,CAAS,CACpC,CAAK,GACe,IACjB,OAAQF,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,CAC9C,CACH,EC3BMG,EAAU,CACd,OAAQ,QACV,EAEMC,EAAmB,CAACC,EAASC,IAAa,CAC1CA,EACFD,EAAQ,UAAU,IAAIF,EAAQ,MAAM,EAEpCE,EAAQ,UAAU,OAAOF,EAAQ,MAAM,CAE3C,ECJMI,EAAS,SAAS,cAAc,oBAAoB,EACpDC,EAAc,SAAS,cAAc,SAAS,EAC9CC,EAAgB,SAAS,cAAc,iBAAiB,EAExDC,EAAkBC,GAAU,CAChC,MAAMC,EAAgB,4CAChBC,EAAgBF,EACnB,IAAIG,GAAS,kBAAkBA,EAAM,EAAE,KAAKA,EAAM,IAAI,WAAW,EACjE,KAAK,EAAE,EAEVN,EAAY,mBACV,aACA,GAAGI,CAAa,GAAGC,CAAa,EACpC,EAEE,IAAIE,EAAW,CACb,OAAQ,gBACZ,CAAG,CACH,EAEMC,EAAc,CAACC,EAAMC,IAAY,CACrCC,EAAS,MAAM,CACb,MAAOD,EAAU,QAAU,UAC3B,QAASD,EACT,SAAU,UACd,CAAG,CACH,EAEMG,EAAgB,SAAY,CAChChB,EAAiBG,EAAQ,EAAK,EAC9B,MAAMI,EAAS,MAAMZ,IACrBK,EAAiBG,EAAQ,EAAI,EACzBI,GAAUA,EAAO,QACnBP,EAAiBI,EAAa,EAAK,EACnCE,EAAgBC,CAAM,GAEtBK,EACE,uEACA,EACN,CAEA,EAEAI,IAEAZ,EAAY,iBAAiB,SAAU,MAAMa,GAAS,CACpDjB,EAAiBG,EAAQ,EAAK,EAC9BE,EAAc,UAAY,GAC1B,MAAMP,EAAUmB,EAAM,OAAO,MACvBC,EAAM,MAAMrB,EAAgBC,CAAO,EAEzC,GADAE,EAAiBG,EAAQ,EAAI,EACzBe,GAAOA,EAAI,OAAQ,CACrB,KAAM,CAAE,KAAAC,EAAM,YAAAC,EAAa,YAAAC,CAAa,EAAGH,EAAI,CAAC,EAAE,OAAO,CAAC,EACpDI,EAAMJ,EAAI,CAAC,EAAE,IAEnBb,EAAc,mBACZ,aACA;AAAA,gCAC0BiB,CAAG,UAAUH,CAAI;AAAA;AAAA,cAEnCA,CAAI;AAAA,aACLC,CAAW;AAAA;AAAA;AAAA,WAGbC,CAAW;AAAA;AAAA,OAGtB,EACIrB,EAAiBK,EAAe,EAAK,CACzC,MACIO,EACE,qEACA,EACN,CAEA,CAAC"}